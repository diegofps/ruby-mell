<%-
  validate_variable :property
  property1 = property.clone()
  property2 = property.clone()

  property1[:name] = "#{property.get(:name)}Id"
  property1[:type] = :int
  property1[:virtual] = false

  if property[:hasMany]
    property2[:type] = "List<#{property.get(:hasMany).get(:name)}>"
    property2[:virtual] = true

  elsif property[:hasOne]
    property2[:type] = property.get(:hasOne).get(:name)
    property2[:virtual] = true

  else

    raise ArgumentError, "Missing hasOne: <entity> or hasMany: <entity> for type: :reference"
  end
-%>
<%= Mell.render "property", property: property1 -%>

<%= Mell.render "property", property: property2 -%>
