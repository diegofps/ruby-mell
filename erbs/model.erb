<%-
  validate_variable :entity
-%>
public class <%= entity %>
{
<% if query.requires_constructor(entity).valid? -%>

    public <%= entity -%>()
    {
  <%- query.hasMany(entity, :prop, :plural).plural(:other, :plural).each do |prop, plural, other| -%>
        <%= plural %> = new List<<%= other %>>();
  <%- end -%>
    }
<% end -%>
<%- query.type(entity, :prop, :type).each do |prop, type| -%>
  <%- if type == 'reference' -%>

    public int <%= prop %>Id { get; set; }

    public virtual <%= prop %> <%= prop %> { get; set; }
  <%- else -%>

    public <%= type %> <%= prop %> { get; set; }
  <%- end -%>
<%- end -%>

}
